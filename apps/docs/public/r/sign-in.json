{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "sign-in",
  "type": "registry:component",
  "title": "Sign In",
  "description": "A complete sign-in form component with email/password, magic link, and social provider support.",
  "dependencies": [
    "button",
    "card",
    "input",
    "label",
    "checkbox",
    "separator",
    "field",
    "spinner"
  ],
  "files": [
    {
      "path": "src/components/auth/sign-in.tsx",
      "content": "\"use client\"\n\nimport { type AuthConfig, cn, useAuth } from \"@better-auth-ui/react\"\nimport type { DeepPartial } from \"better-auth/client/plugins\"\nimport { type FormEvent, useState } from \"react\"\nimport { toast } from \"sonner\"\n\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Checkbox } from \"@/components/ui/checkbox\"\nimport {\n  Field,\n  FieldDescription,\n  FieldError,\n  FieldGroup,\n  FieldLabel,\n  FieldSeparator\n} from \"@/components/ui/field\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Spinner } from \"@/components/ui/spinner\"\n\nimport { MagicLinkButton } from \"./magic-link-button\"\nimport { ProviderButtons, type SocialLayout } from \"./provider-buttons\"\nimport { ResendVerificationButton } from \"./resend-verification-button\"\n\nconst signInLocalization = {\n  ...MagicLinkButton.localization,\n  ...ProviderButtons.localization,\n  ...ResendVerificationButton.localization,\n  EMAIL: \"Email\",\n  EMAIL_PLACEHOLDER: \"Enter your email\",\n  FORGOT_PASSWORD: \"Forgot password?\",\n  PASSWORD: \"Password\",\n  PASSWORD_PLACEHOLDER: \"Enter your password\",\n  NEED_TO_CREATE_AN_ACCOUNT: \"Need to create an account?\",\n  OR: \"OR\",\n  REMEMBER_ME: \"Remember me\",\n  SIGN_IN: \"Sign In\",\n  SIGN_UP: \"Sign Up\"\n}\n\nexport type SignInLocalization = typeof signInLocalization\n\nexport type SignInProps = DeepPartial<AuthConfig> & {\n  className?: string\n  localization?: Partial<SignInLocalization>\n  socialLayout?: SocialLayout\n}\n\n/**\n * Renders the sign-in UI with email/password, magic link, and social provider options based on the provided auth configuration.\n *\n * The component handles sign-in submission, offers a resend verification action when the account is unverified, refetches the session on successful sign-in, and navigates to the configured redirect path.\n *\n * @returns A React element for the sign-in form and related controls configured according to the auth settings\n */\nexport function SignIn({ className, ...props }: SignInProps) {\n  const localization = { ...SignIn.localization, ...props.localization }\n\n  const {\n    authClient,\n    basePaths,\n    baseURL,\n    emailAndPassword,\n    magicLink,\n    redirectTo,\n    socialProviders,\n    viewPaths,\n    navigate,\n    Link\n  } = useAuth(props)\n\n  const { refetch } = authClient.useSession()\n\n  const [password, setPassword] = useState(\"\")\n  const [isPending, setIsPending] = useState(false)\n  const [fieldErrors, setFieldErrors] = useState<{\n    email?: string\n    password?: string\n  }>({})\n\n  const showSeparator =\n    emailAndPassword?.enabled && socialProviders && socialProviders.length > 0\n\n  const onSubmit = async (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault()\n    setIsPending(true)\n\n    const formData = new FormData(e.currentTarget)\n\n    const email = formData.get(\"email\") as string\n    const rememberMe = formData.get(\"rememberMe\") === \"on\"\n\n    const { error } = await authClient.signIn.email(\n      {\n        email,\n        password,\n        ...(emailAndPassword?.rememberMe ? { rememberMe } : {})\n      },\n      { disableSignal: true }\n    )\n\n    if (error) {\n      if (error.code === \"EMAIL_NOT_VERIFIED\") {\n        toast.error(error.message, {\n          action: (\n            <ResendVerificationButton\n              authClient={authClient}\n              baseURL={baseURL}\n              email={email}\n              localization={localization}\n              redirectTo={redirectTo}\n            />\n          )\n        })\n      } else {\n        toast.error(error.message)\n      }\n\n      setPassword(\"\")\n    } else {\n      await refetch()\n      navigate(redirectTo)\n    }\n\n    setIsPending(false)\n  }\n\n  return (\n    <Card className={cn(\"w-full max-w-sm py-4 md:py-6\", className)}>\n      <CardHeader className=\"px-4 md:px-6 -mb-4\">\n        <CardTitle className=\"text-xl\">{localization.SIGN_IN}</CardTitle>\n      </CardHeader>\n\n      <CardContent className=\"px-4 md:px-6\">\n        <form onSubmit={onSubmit}>\n          <FieldGroup className=\"gap-4\">\n            {emailAndPassword?.enabled && (\n              <>\n                <Field data-invalid={!!fieldErrors.email} className=\"gap-1\">\n                  <FieldLabel htmlFor=\"email\">{localization.EMAIL}</FieldLabel>\n\n                  <Input\n                    id=\"email\"\n                    name=\"email\"\n                    type=\"email\"\n                    autoComplete=\"email\"\n                    placeholder={localization.EMAIL_PLACEHOLDER}\n                    required\n                    disabled={isPending}\n                    onChange={() => {\n                      setFieldErrors((prev) => ({\n                        ...prev,\n                        email: undefined\n                      }))\n                    }}\n                    onInvalid={(e) => {\n                      e.preventDefault()\n                      setFieldErrors((prev) => ({\n                        ...prev,\n                        email: (e.target as HTMLInputElement).validationMessage\n                      }))\n                    }}\n                    aria-invalid={!!fieldErrors.email}\n                  />\n\n                  <FieldError>{fieldErrors.email}</FieldError>\n                </Field>\n\n                <Field data-invalid={!!fieldErrors.password} className=\"gap-1\">\n                  <div className=\"flex items-center\">\n                    <FieldLabel htmlFor=\"password\">\n                      {localization.PASSWORD}\n                    </FieldLabel>\n\n                    {!emailAndPassword?.rememberMe &&\n                      emailAndPassword?.forgotPassword && (\n                        <Link\n                          href={`${basePaths.auth}/${viewPaths.auth.forgotPassword}`}\n                          className=\"ml-auto inline-block text-sm underline-offset-4 hover:underline text-card-foreground!\"\n                        >\n                          {localization.FORGOT_PASSWORD}\n                        </Link>\n                      )}\n                  </div>\n\n                  <Input\n                    id=\"password\"\n                    name=\"password\"\n                    type=\"password\"\n                    autoComplete=\"current-password\"\n                    placeholder={localization.PASSWORD_PLACEHOLDER}\n                    required\n                    minLength={8}\n                    value={password}\n                    disabled={isPending}\n                    onChange={(e) => {\n                      setPassword(e.target.value)\n\n                      setFieldErrors((prev) => ({\n                        ...prev,\n                        password: undefined\n                      }))\n                    }}\n                    onInvalid={(e) => {\n                      e.preventDefault()\n\n                      setFieldErrors((prev) => ({\n                        ...prev,\n                        password: (e.target as HTMLInputElement)\n                          .validationMessage\n                      }))\n                    }}\n                    aria-invalid={!!fieldErrors.password}\n                  />\n\n                  <FieldError>{fieldErrors.password}</FieldError>\n                </Field>\n\n                {emailAndPassword.rememberMe && (\n                  <Field className=\"my-1\">\n                    <div className=\"flex items-center\">\n                      <div className=\"flex items-center gap-2\">\n                        <Checkbox\n                          id=\"rememberMe\"\n                          name=\"rememberMe\"\n                          disabled={isPending}\n                        />\n\n                        <Label\n                          htmlFor=\"rememberMe\"\n                          className=\"cursor-pointer text-sm font-normal\"\n                        >\n                          {localization.REMEMBER_ME}\n                        </Label>\n                      </div>\n\n                      {emailAndPassword?.forgotPassword && (\n                        <Link\n                          href={`${basePaths.auth}/${viewPaths.auth.forgotPassword}`}\n                          className=\"ml-auto inline-block text-sm underline-offset-4 hover:underline text-card-foreground!\"\n                        >\n                          {localization.FORGOT_PASSWORD}\n                        </Link>\n                      )}\n                    </div>\n                  </Field>\n                )}\n              </>\n            )}\n\n            <Field>\n              <Button type=\"submit\" disabled={isPending}>\n                {isPending && <Spinner />}\n\n                {localization.SIGN_IN}\n              </Button>\n\n              {magicLink && (\n                <MagicLinkButton\n                  view=\"signIn\"\n                  isPending={isPending}\n                  localization={localization}\n                />\n              )}\n            </Field>\n\n            {showSeparator && (\n              <FieldSeparator className=\"m-0 text-xs flex items-center\">\n                {localization.OR}\n              </FieldSeparator>\n            )}\n\n            {socialProviders && socialProviders.length > 0 && (\n              <ProviderButtons\n                {...props}\n                isPending={isPending}\n                setIsPending={setIsPending}\n                localization={localization}\n              />\n            )}\n\n            {emailAndPassword?.enabled && (\n              <FieldDescription className=\"flex justify-center gap-1\">\n                {localization.NEED_TO_CREATE_AN_ACCOUNT}\n\n                <Link\n                  href={`${basePaths.auth}/${viewPaths.auth.signUp}`}\n                  className=\"underline underline-offset-4\"\n                >\n                  {localization.SIGN_UP}\n                </Link>\n              </FieldDescription>\n            )}\n          </FieldGroup>\n        </form>\n      </CardContent>\n    </Card>\n  )\n}\n\nSignIn.localization = signInLocalization\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/auth/magic-link-button.tsx",
      "content": "\"use client\"\n\nimport { type AuthView, cn, useAuth } from \"@better-auth-ui/react\"\nimport { Lock, Mail } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\n\nconst magicLinkButtonLocalization = {\n  CONTINUE_WITH_MAGIC_LINK: \"Continue with Magic Link\",\n  CONTINUE_WITH_PASSWORD: \"Continue with Password\"\n}\n\nexport type MagicLinkButtonLocalization = typeof magicLinkButtonLocalization\n\nexport type MagicLinkButtonProps = {\n  isPending: boolean\n  localization?: Partial<MagicLinkButtonLocalization>\n  view?: AuthView\n}\n\n/**\n * Render a full-width tertiary button that links to either the magic-link or sign-in route and displays the corresponding icon and label.\n *\n * The component merges provided localization overrides with built-in defaults. When `isPending` is true, the button receives disabled styling and prevents pointer interactions.\n *\n * @param isPending - If true, apply disabled styling and prevent interactions\n * @param view - Current auth view; when `\"magicLink\"`, the button shows the password/sign-in variant\n * @param props - Additional props; supported property `localization` can provide partial overrides for button text\n * @returns A link-styled button element that navigates to the appropriate auth route and shows the matching icon and text\n */\nexport function MagicLinkButton({\n  isPending,\n  view,\n  ...props\n}: MagicLinkButtonProps) {\n  const localization = {\n    ...MagicLinkButton.localization,\n    ...props.localization\n  }\n\n  const { basePaths, viewPaths, Link } = useAuth()\n\n  const isMagicLinkView = view === \"magicLink\"\n\n  return (\n    <Link\n      href={`${basePaths.auth}/${isMagicLinkView ? viewPaths.auth.signIn : viewPaths.auth.magicLink}`}\n      className={cn(\"w-full\", isPending && \"pointer-events-none opacity-50\")}\n    >\n      <Button\n        type=\"button\"\n        variant=\"outline\"\n        className=\"w-full\"\n        disabled={isPending}\n      >\n        {isMagicLinkView ? <Lock /> : <Mail />}\n        {isMagicLinkView\n          ? localization.CONTINUE_WITH_PASSWORD\n          : localization.CONTINUE_WITH_MAGIC_LINK}\n      </Button>\n    </Link>\n  )\n}\n\nMagicLinkButton.localization = magicLinkButtonLocalization\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/auth/provider-buttons.tsx",
      "content": "\"use client\"\n\nimport {\n  type AuthConfig,\n  cn,\n  getProviderName,\n  providerIcons,\n  useAuth\n} from \"@better-auth-ui/react\"\nimport type { DeepPartial } from \"better-auth/client/plugins\"\nimport { useMemo } from \"react\"\nimport { toast } from \"sonner\"\nimport { Button } from \"@/components/ui/button\"\nimport { Field } from \"@/components/ui/field\"\n\nconst providerButtonsLocalization = {\n  CONTINUE_WITH_PROVIDER: \"Continue with {provider}\"\n}\n\nexport type ProviderButtonsLocalization = typeof providerButtonsLocalization\n\nexport type ProviderButtonsProps = DeepPartial<AuthConfig> & {\n  isPending: boolean\n  localization?: Partial<ProviderButtonsLocalization>\n  setIsPending: (pending: boolean) => void\n  socialLayout?: SocialLayout\n}\n\nexport type SocialLayout = \"auto\" | \"horizontal\" | \"vertical\" | \"grid\"\n\n/**\n * Render social provider sign-in buttons and handle sign-in initiation and pending state.\n *\n * @param isPending - When true, disables all provider buttons.\n * @param setIsPending - Callback to update the pending state while a sign-in request is in progress.\n * @param socialLayout - Preferred layout for the provider buttons; when set to `\"auto\"` the layout is chosen based on the number of available providers.\n * @returns A JSX element containing the configured social provider buttons (icons and optional labels) with click handlers that start social sign-in.\n */\nexport function ProviderButtons({\n  isPending,\n  setIsPending,\n  socialLayout = \"auto\",\n  ...props\n}: ProviderButtonsProps) {\n  const localization = {\n    ...ProviderButtons.localization,\n    ...props.localization\n  }\n\n  const { authClient, baseURL, redirectTo, socialProviders } = useAuth(props)\n\n  const resolvedSocialLayout = useMemo(() => {\n    if (socialLayout === \"auto\") {\n      if (socialProviders?.length && socialProviders.length >= 4) {\n        return \"horizontal\"\n      }\n\n      return \"vertical\"\n    }\n\n    return socialLayout\n  }, [socialLayout, socialProviders?.length])\n\n  const handleClick = async (provider: string) => {\n    setIsPending(true)\n\n    const callbackURL = `${baseURL}${redirectTo}`\n\n    const { error } = await authClient.signIn.social({\n      provider,\n      callbackURL\n    })\n\n    if (error) toast.error(error.message)\n\n    setIsPending(false)\n  }\n\n  return (\n    <Field\n      className={cn(\n        resolvedSocialLayout === \"horizontal\" && \"flex-row flex-wrap\",\n        resolvedSocialLayout === \"grid\" && \"grid grid-cols-2\"\n      )}\n    >\n      {socialProviders?.map((provider) => {\n        const ProviderIcon = providerIcons[provider]\n\n        return (\n          <Button\n            key={provider}\n            className=\"flex-1\"\n            variant=\"outline\"\n            type=\"button\"\n            disabled={isPending}\n            onClick={() => handleClick(provider)}\n          >\n            <ProviderIcon />\n\n            {resolvedSocialLayout === \"vertical\"\n              ? localization.CONTINUE_WITH_PROVIDER.replace(\n                  \"{provider}\",\n                  getProviderName(provider)\n                )\n              : resolvedSocialLayout === \"grid\"\n                ? getProviderName(provider)\n                : null}\n          </Button>\n        )\n      })}\n    </Field>\n  )\n}\n\nProviderButtons.localization = providerButtonsLocalization\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/auth/resend-verification-button.tsx",
      "content": "\"use client\"\n\nimport type { AuthClient } from \"@better-auth-ui/react\"\nimport { useState } from \"react\"\nimport { toast } from \"sonner\"\n\nimport { Button } from \"@/components/ui/button\"\nimport { Spinner } from \"@/components/ui/spinner\"\n\nconst resendVerificationButtonLocalization = {\n  RESEND: \"Resend\",\n  VERIFICATION_EMAIL_SENT: \"Verification email sent!\"\n}\n\nexport type ResendVerificationButtonLocalization =\n  typeof resendVerificationButtonLocalization\n\nexport type ResendVerificationButtonProps = {\n  authClient: AuthClient\n  baseURL?: string\n  email: string\n  localization?: Partial<ResendVerificationButtonLocalization>\n  redirectTo: string\n}\n\n/**\n * Renders a small button that initiates sending a verification email to the given address.\n *\n * @param baseURL - Optional base URL prepended to `redirectTo` to form the verification callback URL\n * @param email - Recipient email address for the verification message\n * @param redirectTo - Path appended to `baseURL` to form the verification callback URL\n * @returns A Button element that initiates resending a verification email and reflects the request state\n */\nexport function ResendVerificationButton({\n  authClient,\n  baseURL,\n  email,\n  redirectTo,\n  ...props\n}: ResendVerificationButtonProps) {\n  const localization = {\n    ...ResendVerificationButton.localization,\n    ...props.localization\n  }\n\n  const [isResending, setIsResending] = useState(false)\n\n  return (\n    <Button\n      size=\"sm\"\n      disabled={isResending}\n      onClick={async () => {\n        setIsResending(true)\n\n        const callbackURL = `${baseURL}${redirectTo}`\n\n        const { error } = await authClient.sendVerificationEmail({\n          email,\n          callbackURL\n        })\n\n        toast.dismiss()\n        setIsResending(false)\n\n        if (error) {\n          toast.error(error.message)\n        } else {\n          toast.success(localization.VERIFICATION_EMAIL_SENT)\n        }\n      }}\n    >\n      {isResending && <Spinner />}\n\n      {localization.RESEND}\n    </Button>\n  )\n}\n\nResendVerificationButton.localization = resendVerificationButtonLocalization\n",
      "type": "registry:component"
    }
  ]
}